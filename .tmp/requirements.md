# 要件定義書 - ブラウザベースカンバンアプリ（ハンズオン用）

## 1. 目的

ハンズオン学習用のシンプルなカンバンアプリケーションを開発する。受講者がフロントエンド開発の基礎（DOM操作、localStorage、イベント処理等）を学べるよう、必要最小限の機能に絞り、コードの可読性と理解しやすさを重視する。

## 2. 機能要件

### 2.1 必須機能

- [ ] **カラム表示機能**
  - デフォルトで3つのカラム（"To Do"、"In Progress"、"Done"）を表示
  - 各カラムは視覚的に区別可能なデザイン

- [ ] **カード作成機能**
  - 各カラムに新しいカードを追加できる
  - カードにはテキスト（タスク内容）を入力可能
  - 空のカードは作成不可（バリデーション）

- [ ] **カード移動機能**
  - ドラッグ&ドロップでカードをカラム間で移動

- [ ] **カード編集機能**
  - 既存カードのテキストを編集可能
  - インライン編集またはモーダル/入力フォーム経由

- [ ] **カード削除機能**
  - 不要なカードを削除可能
  - 削除時の確認ダイアログ（誤削除防止）

- [ ] **データ永続化**
  - localStorage使用してブラウザリロード後もデータ保持
  - 自動保存（ユーザーの明示的な保存操作不要）

### 2.2 オプション機能

- [ ] カラムの追加・削除・名前変更
- [ ] カードの優先度や期限設定
- [ ] カードのフィルタリング・検索機能
- [ ] カードの並び替え（カラム内での順序変更）
- [ ] エクスポート/インポート機能（JSON形式）
- [ ] ダークモード切り替え
- [ ] 複数ボードの管理

## 3. 非機能要件

### 3.1 パフォーマンス

- ページロード時間: 1秒以内（通常のネットワーク環境）
- カード操作のレスポンス: 即座（100ms以内）
- 最大100枚程度のカードでもスムーズに動作

### 3.2 セキュリティ

- XSS攻撃対策: ユーザー入力のHTMLエスケープ処理
- localStorageのデータは暗号化不要（学習用のため）
- 外部APIやサーバーとの通信なし（完全オフライン動作）

### 3.3 保守性

- **学習用コードとして高い可読性**
  - 明確な変数名・関数名の使用
  - 適切なコメント（特に学習ポイント）
  - 関数は小さく、単一責任の原則に従う
- モジュール構造は避け、シンプルな構成（1-3ファイル程度）
- ES6+の標準的な機能を使用（複雑なライブラリ依存なし）

### 3.4 互換性

- モダンブラウザ対応（Chrome、Firefox、Safari、Edge最新版）
- localStorageサポートが必須
- レスポンシブデザイン（スマホでも基本操作可能）

## 4. 制約事項

### 4.1 技術的制約

- **フレームワーク不使用**: Vanilla JavaScript（React、Vue等は使わない）
- **ビルドツール不使用**: 直接ブラウザで実行可能（Webpack、Vite等不要）
- **外部ライブラリ最小限**: できる限りネイティブWeb API使用
- **サーバー不要**: 完全にブラウザローカルで動作
- **localStorage使用必須**: サーバーサイドDB不使用

### 4.2 ビジネス制約

- ハンズオン学習用のため、コードの教育的価値を最優先
- 実装時間: 受講者が1-2時間で理解・拡張できる規模
- 商用利用は想定しない（個人学習目的）

## 5. 成功基準

### 5.1 完了の定義

- [ ] ブラウザでHTMLファイルを開くだけで動作する
- [ ] カードの作成・編集・削除・移動がすべて機能する
- [ ] ブラウザリロード後もデータが保持される
- [ ] コードに適切なコメントがあり、初学者が理解できる
- [ ] エラーハンドリングが実装されている（localStorage無効時等）
- [ ] 基本的なUIが整っており、直感的に操作できる

### 5.2 受け入れテスト

- ハンズオン受講者が以下を達成できる：
  - アプリの動作を理解し、機能を説明できる
  - コードの各部分の役割を理解できる
  - 小さな機能追加（例：カードの色変更）を自力で実装できる
- localStorageの容量制限エラー等の基本的なエラーケースが適切に処理される

## 6. 想定されるリスク

### 6.1 技術的リスク

- **localStorage容量制限**:
  - リスク: 大量のカード作成でlocalStorage上限（5-10MB）到達
  - 対策: 最大カード数の警告、古いデータの削除機能検討

- **ブラウザ互換性**:
  - リスク: 一部ブラウザでDrag&Drop APIの挙動が異なる
  - 対策: フォールバック操作（ボタンでの移動）の提供

- **データ損失**:
  - リスク: localStorageがブラウザ設定でクリアされる
  - 対策: エクスポート機能の追加検討（オプション機能）

### 6.2 学習体験のリスク

- **複雑すぎる実装**:
  - リスク: 初学者が理解できない高度な実装
  - 対策: コードレビューで複雑度チェック、段階的な実装

- **シンプルすぎる実装**:
  - リスク: 学習価値が低い
  - 対策: 適度な拡張性を持たせ、応用課題を用意

## 7. 今後の検討事項

### 7.1 設計フェーズで詳細化すべき事項

- **データ構造**: カード、カラムのオブジェクト構造とID管理方法
- **UI/UX設計**: 具体的なレイアウト、カラーパレット、アイコン使用
- **ドラッグ&ドロップ実装**: Drag&Drop API使用 vs ボタン操作のみ
- **ファイル構成**: HTML、CSS、JavaScriptの分割方法
- **エラーハンドリング戦略**: どのエラーをどう処理するか
- **アクセシビリティ**: キーボード操作、スクリーンリーダー対応レベル

### 7.2 実装後の拡張可能性

- ハンズオン参加者向けの練習課題リスト作成
- ステップバイステップのチュートリアル資料
- コードの各部分を段階的に追加するブランチ戦略

## 8. 参考情報

### 8.1 類似アプリケーション

- Trello（機能リッチなカンバン）
- GitHub Projects（シンプルなカンバン）
- Notion Kanban View

### 8.2 学習対象者の想定レベル

- HTML/CSS基礎知識あり
- JavaScript基礎（変数、関数、イベント）理解済み
- DOM操作の基本経験あり
- localStorage等のWeb APIは未経験でも可
